##
## Sample script that shows how to use the TrackerProtocol module
## Some example packets are available in the script, the script parses over them, decodes each
## packet and in the end return the raw decoded data to screen.
##
## Parameter = debug value (from -1 to disable => 9)
##

use lib '/Users/mwallraf/Documents/projects/syncom/socketlistener/hex2bin/TrackerProtocol/lib';

use strict;
use TrackerProtocol;
use TrackerProtocol::GP200;
use Data::Dumper;

my @packets = ( qw /
			11CB029708D79E5C8D067A400048004900214A004C00039D1F701C71333539353231303030303038393588007D89038590019800
			19CB02A908D79E5C8D067A400048004900214A004C00039D1F70117133353935323130303030303839358801A38903A190019800
			19CB02BB08D79E5C8D067A400048004900214A004C00039D1F70097133353935323130303030303839358801A68903A890019800
			19CB02CD08D79E5C8D067A400048004900214A004C00039D1F70167133353935323130303030303839358801A58903AB90019800
			19CB02DF0AD782C68D11EB404C480649FFFF4A474C0003C26270187133353935323130303030303839358801A58903AD90019800
			19CB02F10AD77CBA8D138F403248064900094A634C0003CB09700D7133353935323130303030303839358801A48903AF90019800
			19CB03030AD772688D11F0404A480649FFFF4A574C0003D742701A7133353935323130303030303839358801A48903B090019800
			19CB03150AD769488D11F2403848064900014A554C0003E191700E7133353935323130303030303839358801A48903B290019800
			19CB03270AD762C48D10DD403148064900104A544C0003E968700E7133353935323130303030303839358801A38903B390019800
			19CB03390AD759C08D122D404348064900114A554C0003F3C770127133353935323130303030303839358801A48903B490019800
			19CB034B0AD74F6E8D1452402A48054900024A584C0003FFB8700B7133353935323130303030303839358801A48903B690019800
			19CB035D0AD7494C8D1410402B48064900004A514C0004087A70147133353935323130303030303839358801A38903B790019800
			19CB036F0AD742048D10D34032480549000F4A724C0004135B701E7133353935323130303030303839358801A38903B990019800
			19CB03810AD73A988D0D81402548064900124A744C00041CD870137133353935323130303030303839358801A48903BA90019800
			19CB03930AD731B48D07074049480649000F4A664C00042A4F700C7133353935323130303030303839358801A48903BC90019800
			19CB03A50AD72BD48D05AF400848054900044A624C000430F8701571333539353231303030303038393588019D8903BD90019800
			19CB03B70AD729128D0539400248034900244A394C00043441700E71333539353231303030303038393588018D8903BE90019800
			19CB03CB0AD728FA8D05294002480549FFFF4A564C0004347D700A7133353935323130303030303839358800008903A390019800
			19CB03D500D729028D05304000480449FFF74A004C00043489700A71333539353231303030303038393588000089039E90009800
			<11CB029708D79E5C8D067A400048004900214A004C00039D1F701C71333539353231303030303038393588007D89038590019800>
			<19CB02A908D79E5C8D067A400048004900214A004C00039D1F70117133353935323130303030303839358801A38903A190019800>
			<19CB02BB08D79E5C8D067A400048004900214A004C00039D1F70097133353935323130303030303839358801A68903A890019800>
			<19CB02CD08D79E5C8D067A400048004900214A004C00039D1F70167133353935323130303030303839358801A58903AB90019800>
			<19CB02DF0AD782C68D11EB404C480649FFFF4A474C0003C26270187133353935323130303030303839358801A58903AD90019800>
			<19CB02F10AD77CBA8D138F403248064900094A634C0003CB09700D7133353935323130303030303839358801A48903AF90019800>
			<19CB03030AD772688D11F0404A480649FFFF4A574C0003D742701A7133353935323130303030303839358801A48903B090019800>
			<19CB03150AD769488D11F2403848064900014A554C0003E191700E7133353935323130303030303839358801A48903B290019800>
			<19CB03270AD762C48D10DD403148064900104A544C0003E968700E7133353935323130303030303839358801A38903B390019800>
			<19CB03390AD759C08D122D404348064900114A554C0003F3C770127133353935323130303030303839358801A48903B490019800>
			<19CB034B0AD74F6E8D1452402A48054900024A584C0003FFB8700B7133353935323130303030303839358801A48903B690019800>
			<19CB035D0AD7494C8D1410402B48064900004A514C0004087A70147133353935323130303030303839358801A38903B790019800>
			<19CB036F0AD742048D10D34032480549000F4A724C0004135B701E7133353935323130303030303839358801A38903B990019800>
			<19CB03810AD73A988D0D81402548064900124A744C00041CD870137133353935323130303030303839358801A48903BA90019800>
			<19CB03930AD731B48D07074049480649000F4A664C00042A4F700C7133353935323130303030303839358801A48903BC90019800>
			<19CB03A50AD72BD48D05AF400848054900044A624C000430F8701571333539353231303030303038393588019D8903BD90019800>
			<19CB03B70AD729128D0539400248034900244A394C00043441700E71333539353231303030303038393588018D8903BE90019800>
			<19CB03CB0AD728FA8D05294002480549FFFF4A564C0004347D700A7133353935323130303030303839358800008903A390019800>
			<19CB03D500D729028D05304000480449FFF74A004C00043489700A71333539353231303030303038393588000089039E90009800>
			<11CAD3300AD76C728D077B4000480649000C4A004C000134DA700D7133353935323130303030303839358801A38903B790019800>
			<19CA9DF20AD7474C8D1388402E48064900014A504C0000A99D70117133353935323130303030303839358801A489032890019800>
			<11CA9D980AD76CEE8D11A14027480549001D4A624C00007B9170177133353935323130303030303839358801A689032890019800>
			<19CAD36C0AD781DE8D047A403848064900094A024C00015227700D7133353935323130303030303839358801A78903BB90019800>
			<19CAD3A80AD79BFE8D08A5403548054900084AB24C000175A670137133353935323130303030303839358801A68903C090019800>
			<19CAD3CD02D79E628D06724000480649FFFE4A004C00017ED4701371333539353231303030303038393588000089039F90009800>
			<11CAE0AA08D79E628D06724000480049FFFE4A004C00017ED4701A71333539353231303030303038393588017989038390019800>
			<19CAE0E608D79E628D06724000480049FFFE4A004C00017ED470137133353935323130303030303839358801A28903A690019800>
			<19CAE1220AD778DE8CC513406548064900084A854C0001F0D0700F7133353935323130303030303839358801A38903AC90019800>
			<19CAE15E0AD77AC88CBA17401E48074900034A894C00020156701F71333539353231303030303038393588019E8903B190019800>
			<19CAE19A0AD771B88CB57D4019480749000D4A754C00020E3E70197133353935323130303030303839358801A18903B590019800>
			<19CAE1D60AD736E68CB9F3407348054900004A5B4C000259BA70137133353935323130303030303839358801A28903B990019800>
			<19CAE24E0AD71BB08CBDE9400B48064900084AA44C0002A033701871333539353231303030303038393588019E8903C390019800>
			<19CAE26C02D71BE88CBD4C4000480549000C4A004C0002A3D070187133353935323130303030303839358800008903A490009800>
			<11CAE3E908D71BE88CBD4C4000480049000C4A004C0002A3D0701C7133353935323130303030303839358800008903A090019800>
			<19CAE42508D71BE88CBD4C4000480049000C4A004C0002A3D0701771333539353231303030303038393588000089039A90019800>
			<19CAE44100D71BE88CBD4C4000480049000C4A004C0002A3D0701771333539353231303030303038393588000089039B90009800>
			<11CAE55308D71BE88CBD4C4000480049000C4A004C0002A3D0701871333539353231303030303038393588000089039A90019800>
			<19CAE56C00D71BE88CBD4C4000480049000C4A004C0002A3D0701871333539353231303030303038393588000089039890009800>
			<11CAE5AD08D71BE88CBD4C4000480049000C4A004C0002A3D0701771333539353231303030303038393588000089039890019800>
			<19CAE5E90AD709468CBC9F407A48054900114A674C0002BBB370127133353935323130303030303839358801A58903B690019800>
			<19CAE6250AD6EFF28CD831407448064900354A334C0003082D701C7133353935323130303030303839358801A58903C090019800>
			<19CAE6610AD716968D0095407748084900374A1C4C000359C0700F7133353935323130303030303839358801A58903C590019800>
			<19CAE6B102D729148D052A4000480449FFEC4A004C00037E61700F7133353935323130303030303839358800008903A890009800>
		/
	);

my $p = new TrackerProtocol::GP200(debug => $ARGV[0] || 4);

foreach my $packet (@packets)  {
	print "------- PARSE NEW PACKET -------\n";
	print &Dumper($p->decode($packet));
	print "\n";
}


